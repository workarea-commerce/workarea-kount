---
http_interactions:
- request:
    method: post
    uri: https://esqa.moneris.com/gateway2/servlet/MpgRequest
    body:
      encoding: UTF-8
      string: "<request><store_id>monca02501</store_id><api_token>YSI4CKbdvgSbr6is4JMZ</api_token><res_add_cc><pan>4111111111111111</pan><expdate>2101</expdate><crypt_type>7</crypt_type></res_add_cc></request>"
    headers:
      Content-Type:
      - application/x-www-form-urlencoded
      Connection:
      - close
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 21 Sep 2020 18:36:55 GMT
      X-Ua-Compatible:
      - IE=Edge
      Connection:
      - close
      Content-Type:
      - text/html
      Set-Cookie:
      - TS019df888=015d06d254a632752c749840557162f63baf7d0861476031f3a8e57658bdc65a7e4ed402703d8960f9e921a20a172ce1b78bc9e8f0;
        Path=/; Domain=.esqa.moneris.com; Secure
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: <?xml version="1.0"?><response><receipt><DataKey>890xonL55b8sZrm5TqqoT1Tr1</DataKey><ReceiptId>null</ReceiptId><ReferenceNum>null</ReferenceNum><ResponseCode>001</ResponseCode><ISO>null</ISO><AuthCode>null</AuthCode><Message>Successfully
        registered CC details.</Message><TransTime>14:36:55</TransTime><TransDate>2020-09-21</TransDate><TransType>null</TransType><Complete>true</Complete><TransAmount>null</TransAmount><CardType>null</CardType><TransID>null</TransID><TimedOut>false</TimedOut><CorporateCard>null</CorporateCard><RecurSuccess>null</RecurSuccess><AvsResultCode>null</AvsResultCode><CvdResultCode>null</CvdResultCode><ResSuccess>true</ResSuccess><PaymentType>cc</PaymentType><IsVisaDebit>null</IsVisaDebit><ResolveData><cust_id></cust_id><phone></phone><email></email><note></note><avs_street_number></avs_street_number><avs_street_name></avs_street_name><avs_zipcode></avs_zipcode><masked_pan>4111***1111</masked_pan><expdate>2101</expdate><crypt_type>7</crypt_type></ResolveData></receipt></response>
    http_version:
  recorded_at: Mon, 21 Sep 2020 18:36:55 GMT
- request:
    method: post
    uri: https://esqa.moneris.com/gateway2/servlet/MpgRequest
    body:
      encoding: UTF-8
      string: "<request><store_id>monca02501</store_id><api_token>YSI4CKbdvgSbr6is4JMZ</api_token><res_preauth_cc><data_key>890xonL55b8sZrm5TqqoT1Tr1</data_key><order_id>CF60471F69_2020_09_21_14_36_57</order_id><amount>11.00</amount><crypt_type>7</crypt_type></res_preauth_cc></request>"
    headers:
      Content-Type:
      - application/x-www-form-urlencoded
      Connection:
      - close
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 21 Sep 2020 18:36:57 GMT
      X-Ua-Compatible:
      - IE=Edge
      Connection:
      - close
      Content-Type:
      - text/html
      Set-Cookie:
      - TS019df888=015d06d254b203887d231a7ac51a1b2445052a677fda5bf375851a2912d0d63f45e46b044740d1e4edd8f7455955dad77b9ee01035;
        Path=/; Domain=.esqa.moneris.com; Secure
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: <?xml version="1.0"?><response><receipt><DataKey>890xonL55b8sZrm5TqqoT1Tr1</DataKey><ReceiptId>CF60471F69_2020_09_21_14_36_57</ReceiptId><ReferenceNum>660189810010090020</ReferenceNum><ResponseCode>027</ResponseCode><ISO>01</ISO><AuthCode>628516</AuthCode><Message>APPROVED           *                    =</Message><TransTime>14:36:57</TransTime><TransDate>2020-09-21</TransDate><TransType>01</TransType><Complete>true</Complete><TransAmount>11.00</TransAmount><CardType>V</CardType><TransID>160-0_15</TransID><TimedOut>false</TimedOut><CorporateCard>false</CorporateCard><RecurSuccess>null</RecurSuccess><AvsResultCode>null</AvsResultCode><CvdResultCode>null</CvdResultCode><ResSuccess>true</ResSuccess><PaymentType>cc</PaymentType><IsVisaDebit>false</IsVisaDebit><ResolveData><cust_id></cust_id><phone></phone><email></email><note></note><expdate>2101</expdate><masked_pan>4111***1111</masked_pan><crypt_type>7</crypt_type><avs_street_number></avs_street_number><avs_street_name></avs_street_name><avs_zipcode></avs_zipcode></ResolveData></receipt></response>
    http_version:
  recorded_at: Mon, 21 Sep 2020 18:36:58 GMT
recorded_with: VCR 2.9.3
